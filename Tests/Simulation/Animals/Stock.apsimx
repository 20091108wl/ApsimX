{
  "$type": "Models.Core.Simulations, Models",
  "ExplorerWidth": 300,
  "Version": 47,
  "Name": "Simulations",
  "Children": [
    {
      "$type": "Models.Memo, Models",
      "Text": "# The APSIM Stock model\r\n\r\nThis is the documenation for the stock model.",
      "Name": "TitlePage",
      "Children": [],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Core.Folder, Models",
      "ShowPageOfGraphs": true,
      "Name": "Management Examples",
      "Children": [
        {
          "$type": "Models.Core.Folder, Models",
          "ShowPageOfGraphs": true,
          "Name": "Stocking Rates",
          "Children": [
            {
              "$type": "Models.Core.Simulation, Models",
              "Name": "Farm",
              "Children": [
                {
                  "$type": "Models.Clock, Models",
                  "StartDate": "1999-01-01T00:00:00",
                  "EndDate": "2000-12-31T00:00:00",
                  "Name": "Clock",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Summary, Models",
                  "CaptureErrors": true,
                  "CaptureWarnings": true,
                  "CaptureSummaryText": true,
                  "Name": "SummaryFile",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Weather, Models",
                  "FileName": "Dalby.met",
                  "ExcelWorkSheetName": null,
                  "Name": "Weather",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Core.Zone, Models",
                  "Area": 10.0,
                  "Slope": 0.0,
                  "Name": "Feedlot",
                  "Children": [
                    {
                      "$type": "Models.Report.Report, Models",
                      "ExperimentFactorNames": null,
                      "ExperimentFactorValues": null,
                      "VariableNames": [
                        "[Clock].Today"
                      ],
                      "EventNames": [
                        ""
                      ],
                      "Name": "Report",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Soils.Soil, Models",
                      "Weirdo": null,
                      "RecordNumber": 0,
                      "ASCOrder": "Vertosol",
                      "ASCSubOrder": "Black",
                      "SoilType": "Clay",
                      "LocalName": null,
                      "Site": "Norwin",
                      "NearestTown": "Norwin",
                      "Region": "Darling Downs and Granite Belt",
                      "State": "Queensland",
                      "Country": "Australia",
                      "NaturalVegetation": "Qld. Bluegrass, possible Qld. Blue gum",
                      "ApsoilNumber": "900",
                      "Latitude": -27.581836,
                      "Longitude": 151.320206,
                      "LocationAccuracy": " +/- 20m",
                      "DataSource": "CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project\"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011",
                      "Comments": "OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1",
                      "Name": "Soil",
                      "Children": [
                        {
                          "$type": "Models.Soils.Water, Models",
                          "Thickness": [
                            150.0,
                            150.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0
                          ],
                          "BD": [
                            1.01056473311131,
                            1.07145631083388,
                            1.09393858528057,
                            1.15861335018721,
                            1.17301160318016,
                            1.16287303586874,
                            1.18749547755906
                          ],
                          "AirDry": [
                            0.130250054518252,
                            0.198689390775399,
                            0.28,
                            0.28,
                            0.28,
                            0.28,
                            0.28
                          ],
                          "LL15": [
                            0.260500109036505,
                            0.248361738469248,
                            0.28,
                            0.28,
                            0.28,
                            0.28,
                            0.28
                          ],
                          "DUL": [
                            0.52100021807301,
                            0.496723476938497,
                            0.488437607673005,
                            0.480296969355493,
                            0.471583596524955,
                            0.457070570557793,
                            0.452331759845006
                          ],
                          "SAT": [
                            0.588654817693846,
                            0.565676863836273,
                            0.557192986686577,
                            0.532787415023694,
                            0.527354112007486,
                            0.531179986464627,
                            0.521888499034317
                          ],
                          "KS": [
                            20.0,
                            20.0,
                            20.0,
                            20.0,
                            20.0,
                            20.0,
                            20.0
                          ],
                          "BDMetadata": null,
                          "AirDryMetadata": null,
                          "LL15Metadata": null,
                          "DULMetadata": null,
                          "SATMetadata": null,
                          "KSMetadata": null,
                          "Name": "Water",
                          "Children": [
                            {
                              "$type": "Models.Soils.SoilCrop, Models",
                              "LL": [
                                0.261,
                                0.248,
                                0.28,
                                0.306,
                                0.36,
                                0.392,
                                0.446
                              ],
                              "KL": [
                                0.06,
                                0.06,
                                0.06,
                                0.04,
                                0.04,
                                0.02,
                                0.01
                              ],
                              "XF": [
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0,
                                1.0
                              ],
                              "LLMetadata": null,
                              "KLMetadata": null,
                              "XFMetadata": null,
                              "Name": "WheatSoil",
                              "Children": [],
                              "IncludeInDocumentation": false,
                              "Enabled": true,
                              "ReadOnly": false
                            }
                          ],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilWater, Models",
                          "SummerDate": "1-Nov",
                          "SummerU": 5.0,
                          "SummerCona": 5.0,
                          "WinterDate": "1-Apr",
                          "WinterU": 5.0,
                          "WinterCona": 5.0,
                          "DiffusConst": 40.0,
                          "DiffusSlope": 16.0,
                          "Salb": 0.12,
                          "CN2Bare": 73.0,
                          "CNRed": 20.0,
                          "CNCov": 0.8,
                          "slope": "NaN",
                          "discharge_width": "NaN",
                          "catchment_area": "NaN",
                          "max_pond": 0.0,
                          "Thickness": [
                            150.0,
                            150.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0
                          ],
                          "SWCON": [
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3,
                            0.3
                          ],
                          "KLAT": null,
                          "ResidueInterception": 0.0,
                          "Name": "SoilWater",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilNitrogen, Models",
                          "fom_types": [
                            "default",
                            "manure",
                            "mucuna",
                            "lablab",
                            "shemp",
                            "stable"
                          ],
                          "fract_carb": [
                            0.2,
                            0.3,
                            0.54,
                            0.57,
                            0.45,
                            0.0
                          ],
                          "fract_cell": [
                            0.7,
                            0.3,
                            0.37,
                            0.37,
                            0.47,
                            0.1
                          ],
                          "fract_lign": [
                            0.1,
                            0.4,
                            0.09,
                            0.06,
                            0.08,
                            0.9
                          ],
                          "Name": "SoilNitrogen",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.SoilOrganicMatter, Models",
                          "RootCN": 40.0,
                          "RootWt": 1000.0,
                          "SoilCN": 12.0,
                          "EnrACoeff": 7.4,
                          "EnrBCoeff": 0.2,
                          "Thickness": [
                            150.0,
                            150.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0
                          ],
                          "Depth": [
                            "0-15",
                            "15-30",
                            "30-60",
                            "60-90",
                            "90-120",
                            "120-150",
                            "150-180"
                          ],
                          "OC": [
                            1.2,
                            0.96,
                            0.6,
                            0.3,
                            0.18,
                            0.12,
                            0.12
                          ],
                          "OCMetadata": null,
                          "FBiom": [
                            0.04,
                            0.02,
                            0.02,
                            0.02,
                            0.01,
                            0.01,
                            0.01
                          ],
                          "FInert": [
                            0.4,
                            0.6,
                            0.8,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "OCUnits": 0,
                          "Name": "SoilOrganicMatter",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Analysis, Models",
                          "Thickness": [
                            150.0,
                            150.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0
                          ],
                          "Rocks": null,
                          "RocksMetadata": null,
                          "Texture": null,
                          "TextureMetadata": null,
                          "MunsellColour": null,
                          "MunsellMetadata": null,
                          "EC": null,
                          "ECMetadata": null,
                          "PH": [
                            8.0,
                            8.0,
                            8.0,
                            8.0,
                            8.0,
                            8.0,
                            8.0
                          ],
                          "PHMetadata": null,
                          "CL": null,
                          "CLMetadata": null,
                          "Boron": null,
                          "BoronMetadata": null,
                          "CEC": null,
                          "CECMetadata": null,
                          "Ca": null,
                          "CaMetadata": null,
                          "Mg": null,
                          "MgMetadata": null,
                          "Na": null,
                          "NaMetadata": null,
                          "K": null,
                          "KMetadata": null,
                          "ESP": null,
                          "ESPMetadata": null,
                          "Mn": null,
                          "MnMetadata": null,
                          "Al": null,
                          "AlMetadata": null,
                          "ParticleSizeSand": null,
                          "ParticleSizeSandMetadata": null,
                          "ParticleSizeSilt": null,
                          "ParticleSizeSiltMetadata": null,
                          "ParticleSizeClay": null,
                          "ParticleSizeClayMetadata": null,
                          "PHUnits": 0,
                          "BoronUnits": 0,
                          "Name": "Analysis",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.InitialWater, Models",
                          "PercentMethod": 1,
                          "FractionFull": 1.0,
                          "DepthWetSoil": "NaN",
                          "RelativeTo": null,
                          "Name": "InitialWater",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.Sample, Models",
                          "Thickness": [
                            150.0,
                            150.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0,
                            300.0
                          ],
                          "NO3": [
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0,
                            1.0
                          ],
                          "NH4": [
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1,
                            0.1
                          ],
                          "SW": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "OC": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "EC": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "CL": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "ESP": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "PH": [
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN",
                            "NaN"
                          ],
                          "NO3Units": 0,
                          "NH4Units": 0,
                          "SWUnits": 0,
                          "OCUnits": 0,
                          "PHUnits": 0,
                          "Name": "InitialN",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        },
                        {
                          "$type": "Models.Soils.CERESSoilTemperature, Models",
                          "Name": "CERESSoilTemperature",
                          "Children": [],
                          "IncludeInDocumentation": false,
                          "Enabled": true,
                          "ReadOnly": false
                        }
                      ],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.Surface.SurfaceOrganicMatter, Models",
                      "InitialResidueName": "wheat_stubble",
                      "InitialResidueType": "wheat",
                      "InitialResidueMass": 0.0,
                      "InitialStandingFraction": 0.0,
                      "InitialCPR": 0.0,
                      "InitialCNR": 100.0,
                      "FractionFaecesAdded": 0.5,
                      "ResourceName": "SurfaceOrganicMatter",
                      "Name": "SurfaceOrganicMatter",
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.MicroClimate, Models",
                      "a_interception": 0.0,
                      "b_interception": 1.0,
                      "c_interception": 0.0,
                      "d_interception": 0.0,
                      "soil_albedo": 0.3,
                      "SoilHeatFluxFraction": 0.4,
                      "NightInterceptionFraction": 0.5,
                      "ReferenceHeight": 2.0,
                      "Name": "MicroClimate",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    },
                    {
                      "$type": "Models.SoluteManager, Models",
                      "Name": "SoluteManager",
                      "Children": [],
                      "IncludeInDocumentation": false,
                      "Enabled": true,
                      "ReadOnly": false
                    }
                  ],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.GrazPlan.Supplement, Models",
                  "SpoilageTime": 0.0,
                  "Stores": [
                    {
                      "$type": "Models.GrazPlan.StoreType, Models",
                      "Name": "fodder",
                      "Stored": 0.0,
                      "IsRoughage": true,
                      "DMContent": 0.85,
                      "DMD": 0.0,
                      "MEContent": 0.0,
                      "CPConc": 0.0,
                      "ProtDg": 0.0,
                      "PConc": 0.0,
                      "SConc": 0.0,
                      "EEConc": 0.0,
                      "ADIP2CP": 0.0,
                      "AshAlk": 0.0,
                      "MaxPassage": 0.0
                    },
                    {
                      "$type": "Models.GrazPlan.StoreType, Models",
                      "Name": "wheat, crushed",
                      "Stored": 500000.0,
                      "IsRoughage": false,
                      "DMContent": 0.89,
                      "DMD": 0.9,
                      "MEContent": 13.8,
                      "CPConc": 0.14,
                      "ProtDg": 0.92,
                      "PConc": 0.0038,
                      "SConc": 0.0014000000000000002,
                      "EEConc": 0.02,
                      "ADIP2CP": 0.02,
                      "AshAlk": 0.18,
                      "MaxPassage": 0.0
                    }
                  ],
                  "PaddockList": [],
                  "Name": "Supplement",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.GrazPlan.Stock, Models",
                  "RandSeed": 9999,
                  "GenoTypes": [],
                  "Sheep": [],
                  "Cattle": [],
                  "PaddockList": [
                    {
                      "$type": "Models.GrazPlan.PaddockInit, Models",
                      "Forages": [],
                      "Name": "",
                      "Area": 1.0,
                      "Slope": 0.0,
                      "Excretion": null,
                      "Urine": null
                    }
                  ],
                  "EnterpriseList": [],
                  "GrazingPeriods": [],
                  "Name": "Stock",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Manager, Models",
                  "Code": "using System;\r\nusing Models.Core;\r\nusing Models.Utilities;\r\nusing Models.GrazPlan;\r\nusing APSIM.Shared.Utilities;\r\nusing Models.Interfaces;\r\n\r\nnamespace Models\r\n{\r\n    [Serializable]\r\n    public class Script : Model\r\n    {\r\n        [Link] Clock Calendar;\r\n        [Link] Stock Animals;\r\n        [Link] Supplement Feed;\r\n        [Link] Simulation Farm;\r\n\r\n        [Separator(\"Category1\")]\r\n\r\n        [Description(\"Number of young stock to purchase\")]\r\n        public string dateToBuySell { get; set;}\r\n\r\n        [Description(\"Stocking rate (wethers/property ha)\")]\r\n        public double stockRate { get; set;}\r\n\r\n        [Separator(\"Category2\")]\r\n\r\n        [Description(\"Proportion of mature animals to sell\")]\r\n        public double sale_propn { get; set;}\r\n\r\n        [Description(\"Number of young stock to purchase\")]\r\n        public double no_to_buy { get; set;}\r\n\r\n        [Description(\"Model name\")]\r\n        [Display(Type=DisplayType.Model/*,\r\n                 ModelType=typeof(Weather)*/)]\r\n        public IModel w {get; set; }\r\n\r\n        [EventSubscribe(\"DoManagement\")]\r\n        private void OnDoManagement(object sender, EventArgs e)\r\n        {\r\n            // purchase animals annually\r\n            if (DateUtilities.DatesEqual(dateToBuySell, Calendar.Today))\r\n            {\r\n\t            for (int i = 1; i <= Animals.NoGroups; i++)\r\n\t \t\t\t{\r\n\t \t\t\t\t// Are the i’th group older than 3 years?\r\n\t \t\t\t\tif (Animals.AgeMonths[i] > 36) \r\n\t \t\t\t\t{\r\n\t \t\t\t\t\t// Then sell some\r\n\t \t\t\t\t\tint numToSell = Convert.ToInt32(sale_propn*Animals.Number[i]);\r\n\t \t\t\t\t\tAnimals.Sell(group: i, \r\n\t \t\t\t\t\t\t\t\t number: numToSell); \r\n\t \t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t \t\t\t// Acquire young replacement stock immediately\r\n\t \t\t\tAnimals.Buy(genotype: \"Small Merino\", \r\n\t \t\t\t\t\t\tnumber: stockRate * Farm.Area - Animals.NumberAll, \r\n\t \t\t\t\t\t\tsex: \"wethers\", \r\n\t \t\t\t\t\t\tage: 15.0, \r\n\t \t\t\t\t\t\tweight: 48.0, \r\n\t \t\t\t\t\t\tfleeceWeight: 0.40);\r\n\t\t\t}\r\n        }\r\n    }\r\n}\r\n",
                  "Parameters": [
                    {
                      "Key": "dateToBuySell",
                      "Value": "10"
                    },
                    {
                      "Key": "stockRate",
                      "Value": "11"
                    },
                    {
                      "Key": "sale_propn",
                      "Value": "12"
                    },
                    {
                      "Key": "no_to_buy",
                      "Value": "13"
                    },
                    {
                      "Key": "w",
                      "Value": ".Simulations.Management Examples.Stocking Rates.Farm.Feedlot.Soil"
                    }
                  ],
                  "Name": "BuySell",
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                },
                {
                  "$type": "Models.Report.Report, Models",
                  "ExperimentFactorNames": null,
                  "ExperimentFactorValues": null,
                  "VariableNames": [
                    "[Clock].Today",
                    "[Stock].Number[1]",
                    "[Stock].NumberAll",
                    "[Stock].Weight[1]",
                    "[Stock].WeightAll",
                    "[Stock].CondScoreAll",
                    "[Stock].CondScore[1]",
                    "[Stock].FleeceWt[1]",
                    "[Stock].FibreDiam[1]",
                    "[Stock].DSEAll",
                    "[Stock].Intake[1].weight",
                    "[Stock].Intake[1].n",
                    "[Stock].Intake[1].p",
                    "[Stock].Intake[1].s",
                    "[Stock].Intake[1].ash_alk",
                    "[Stock].UrineN[1]",
                    "[Stock].Methane[1]",
                    "[Supplement].stores[2].Name",
                    "[Supplement].stores[2].Stored"
                  ],
                  "EventNames": [
                    "[Clock].EndOfDay"
                  ],
                  "Name": "Report",
                  "Children": [],
                  "IncludeInDocumentation": false,
                  "Enabled": true,
                  "ReadOnly": false
                }
              ],
              "IncludeInDocumentation": false,
              "Enabled": true,
              "ReadOnly": false
            }
          ],
          "IncludeInDocumentation": true,
          "Enabled": true,
          "ReadOnly": false
        }
      ],
      "IncludeInDocumentation": true,
      "Enabled": true,
      "ReadOnly": false
    },
    {
      "$type": "Models.Storage.DataStore, Models",
      "Name": "DataStore",
      "Children": [],
      "IncludeInDocumentation": false,
      "Enabled": true,
      "ReadOnly": false
    }
  ],
  "IncludeInDocumentation": true,
  "Enabled": true,
  "ReadOnly": false
}