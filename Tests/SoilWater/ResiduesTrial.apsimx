<?xml version="1.0" encoding="utf-8"?>
<Simulations xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Name>Simulations</Name>
  <DataStore>
    <Name>DataStore</Name>
    <Input>
      <Name>ObservedResidues</Name>
      <FileNames>
        <string>C:\ApsimX\Tests\SoilWater\A_block_obs_residual.txt</string>
      </FileNames>
    </Input>
    <Input>
      <Name>ObservedSoilWater</Name>
      <FileNames>
        <string>C:\ApsimX\Tests\SoilWater\a_block_obs_soilwater.txt</string>
      </FileNames>
    </Input>
    <PredictedObserved>
      <Name>PredictedObserved</Name>
      <PredictedTableName>Report</PredictedTableName>
      <ObservedTableName>ObservedSoilWater</ObservedTableName>
      <FieldNameUsedForMatch>Clock.Today</FieldNameUsedForMatch>
    </PredictedObserved>
    <TimeSeriesStats>
      <Name>TimeSeriesStats</Name>
      <TableName>PredictedObserved</TableName>
    </TimeSeriesStats>
  </DataStore>
  <Tests>
    <Name>Tests</Name>
    <Test>
      <SimulationName>ResiduesCoverHarvesterWindrow</SimulationName>
      <TableName>Report</TableName>
      <Type>Tolerance</Type>
      <ColumnNames>SurfaceOrganicMatter.surfaceom_cover</ColumnNames>
      <Parameters>1,1</Parameters>
    </Test>
    <Test>
      <SimulationName>ResiduesCoverHarvesterWindrow</SimulationName>
      <TableName>Report</TableName>
      <Type>Tolerance</Type>
      <ColumnNames>SurfaceOrganicMatter.surfaceom_wt</ColumnNames>
      <Parameters>1,1</Parameters>
    </Test>
  </Tests>
  <Experiment>
    <Name>Residues</Name>
    <Factors>
      <Name>Factors</Name>
      <Factor>
        <Name>Cover</Name>
        <FactorValue>
          <Name>StandingStubble</Name>
          <SurfaceOrganicMatter>
            <Name>Stubble left by harvester</Name>
            <crit_residue_wt>2000</crit_residue_wt>
            <opt_temp>20</opt_temp>
            <cum_eos_max>20</cum_eos_max>
            <cnrf_coeff>0.277</cnrf_coeff>
            <cnrf_optcn>25</cnrf_optcn>
            <c_fract>0.4</c_fract>
            <leach_rain_tot>25</leach_rain_tot>
            <min_rain_to_leach>10</min_rain_to_leach>
            <crit_min_surfom_orgC>0.004</crit_min_surfom_orgC>
            <default_cpr>0</default_cpr>
            <default_standing_fraction>0</default_standing_fraction>
            <standing_extinct_coeff>0.5</standing_extinct_coeff>
            <fractionFaecesAdded>0.5</fractionFaecesAdded>
            <ResidueTypes />
            <TillageTypes>
              <Name>TillageTypes</Name>
              <TillageType />
            </TillageTypes>
            <PoolName>Barley</PoolName>
            <type>Barley</type>
            <mass>2026</mass>
            <standing_fraction>1</standing_fraction>
            <cnr>80</cnr>
          </SurfaceOrganicMatter>
        </FactorValue>
        <FactorValue>
          <Name>HarvesterWindrow</Name>
          <SurfaceOrganicMatter>
            <Name>Windrow left by harvester</Name>
            <crit_residue_wt>2000</crit_residue_wt>
            <opt_temp>20</opt_temp>
            <cum_eos_max>20</cum_eos_max>
            <cnrf_coeff>0.277</cnrf_coeff>
            <cnrf_optcn>25</cnrf_optcn>
            <c_fract>0.4</c_fract>
            <leach_rain_tot>25</leach_rain_tot>
            <min_rain_to_leach>10</min_rain_to_leach>
            <crit_min_surfom_orgC>0.004</crit_min_surfom_orgC>
            <default_cpr>0</default_cpr>
            <default_standing_fraction>0</default_standing_fraction>
            <standing_extinct_coeff>0.5</standing_extinct_coeff>
            <fractionFaecesAdded>0.5</fractionFaecesAdded>
            <ResidueTypes />
            <TillageTypes>
              <Name>TillageTypes</Name>
              <TillageType />
            </TillageTypes>
            <PoolName>Barley</PoolName>
            <type>Barley</type>
            <mass>8300</mass>
            <standing_fraction>0</standing_fraction>
            <cnr>80</cnr>
          </SurfaceOrganicMatter>
        </FactorValue>
        <FactorValue>
          <Name>MownStubble</Name>
          <SurfaceOrganicMatter>
            <Name>Stubble mown and bailed</Name>
            <crit_residue_wt>2000</crit_residue_wt>
            <opt_temp>20</opt_temp>
            <cum_eos_max>20</cum_eos_max>
            <cnrf_coeff>0.277</cnrf_coeff>
            <cnrf_optcn>25</cnrf_optcn>
            <c_fract>0.4</c_fract>
            <leach_rain_tot>25</leach_rain_tot>
            <min_rain_to_leach>10</min_rain_to_leach>
            <crit_min_surfom_orgC>0.004</crit_min_surfom_orgC>
            <default_cpr>0</default_cpr>
            <default_standing_fraction>0</default_standing_fraction>
            <standing_extinct_coeff>0.5</standing_extinct_coeff>
            <fractionFaecesAdded>0.5</fractionFaecesAdded>
            <ResidueTypes />
            <TillageTypes>
              <Name>TillageTypes</Name>
              <TillageType />
            </TillageTypes>
            <PoolName>Barley</PoolName>
            <type>Barley</type>
            <mass>400</mass>
            <standing_fraction>1</standing_fraction>
            <cnr>80</cnr>
          </SurfaceOrganicMatter>
        </FactorValue>
        <FactorValue>
          <Name>BareSoil</Name>
          <SurfaceOrganicMatter>
            <Name>Stubble mown, bailed and cultivared</Name>
            <crit_residue_wt>2000</crit_residue_wt>
            <opt_temp>20</opt_temp>
            <cum_eos_max>20</cum_eos_max>
            <cnrf_coeff>0.277</cnrf_coeff>
            <cnrf_optcn>25</cnrf_optcn>
            <c_fract>0.4</c_fract>
            <leach_rain_tot>25</leach_rain_tot>
            <min_rain_to_leach>10</min_rain_to_leach>
            <crit_min_surfom_orgC>0.004</crit_min_surfom_orgC>
            <default_cpr>0</default_cpr>
            <default_standing_fraction>0</default_standing_fraction>
            <standing_extinct_coeff>0.5</standing_extinct_coeff>
            <fractionFaecesAdded>0.5</fractionFaecesAdded>
            <ResidueTypes />
            <TillageTypes>
              <Name>TillageTypes</Name>
              <TillageType />
            </TillageTypes>
            <PoolName>Barley</PoolName>
            <type>Barley</type>
            <mass>0</mass>
            <standing_fraction>1</standing_fraction>
            <cnr>80</cnr>
          </SurfaceOrganicMatter>
        </FactorValue>
        <Paths>
          <string>[SurfaceOrganicMatter]</string>
        </Paths>
      </Factor>
    </Factors>
    <Simulation>
      <Name>Base</Name>
      <WeatherFile>
        <Name>WeatherFile</Name>
        <FileName>..\WeatherFiles\lincoln.met</FileName>
        <MaxT>12.899999618530273</MaxT>
        <MinT>-2.7000000476837158</MinT>
        <Rain>0</Rain>
        <Radn>11</Radn>
        <vp>0</vp>
        <wind>0</wind>
        <CO2>350</CO2>
      </WeatherFile>
      <Clock>
        <Name>Clock</Name>
        <StartDate>2010-02-25T00:00:00</StartDate>
        <EndDate>2010-08-11T00:00:00</EndDate>
      </Clock>
      <Summary>
        <Name>Summary</Name>
        <html>true</html>
        <AutoCreate>false</AutoCreate>
        <StateVariables>false</StateVariables>
      </Summary>
      <Zone>
        <Name>Field</Name>
        <Soil>
          <Name>Soil</Name>
          <Water>
            <Name>Water</Name>
            <Thickness>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
            </Thickness>
            <BD>
              <double>1.3</double>
              <double>1.3</double>
              <double>1.3</double>
              <double>1.52</double>
              <double>1.52</double>
              <double>1.52</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.65</double>
              <double>1.6</double>
            </BD>
            <AirDry>
              <double>0.06</double>
              <double>0.124</double>
              <double>0.106</double>
              <double>0.07</double>
              <double>0.07</double>
              <double>0.165</double>
              <double>0.157</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
            </AirDry>
            <LL15>
              <double>0.08</double>
              <double>0.124</double>
              <double>0.106</double>
              <double>0.07</double>
              <double>0.07</double>
              <double>0.165</double>
              <double>0.157</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
              <double>0.125</double>
            </LL15>
            <DUL>
              <double>0.27</double>
              <double>0.25</double>
              <double>0.27</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.3</double>
              <double>0.29</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
            </DUL>
            <SAT>
              <double>0.31</double>
              <double>0.358</double>
              <double>0.4</double>
              <double>0.314</double>
              <double>0.314</double>
              <double>0.358</double>
              <double>0.35</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
              <double>0.318</double>
            </SAT>
            <KS>
              <double>999</double>
              <double>300</double>
              <double>100</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
              <double>90</double>
            </KS>
          </Water>
          <SoilWater>
            <Name>SoilWater</Name>
            <min_crit_temp>5</min_crit_temp>
            <max_crit_temp>35</max_crit_temp>
            <max_albedo>0.23</max_albedo>
            <A_to_evap_fact>0.44</A_to_evap_fact>
            <canopy_eos_coef>1.7</canopy_eos_coef>
            <sw_top_crit>0.9</sw_top_crit>
            <sumes1_max>100</sumes1_max>
            <sumes2_max>25</sumes2_max>
            <solute_flow_eff>
              <double>1</double>
            </solute_flow_eff>
            <solute_flux_eff>
              <double>1</double>
            </solute_flux_eff>
            <gravity_gradient>2E-05</gravity_gradient>
            <specific_bd>2.65</specific_bd>
            <hydrol_effective_depth>450</hydrol_effective_depth>
            <mobile_solutes>
              <string>no3</string>
              <string>urea</string>
              <string>cl</string>
              <string>br</string>
              <string>org_n</string>
              <string>org_c_pool1</string>
              <string>org_c_pool2</string>
              <string>org_c_pool3</string>
            </mobile_solutes>
            <immobile_solutes>
              <string>nh4</string>
            </immobile_solutes>
            <canopy_fact>
              <double>1</double>
              <double>1</double>
              <double>0</double>
              <double>0</double>
            </canopy_fact>
            <canopy_fact_height>
              <double>0</double>
              <double>600</double>
              <double>1800</double>
              <double>30000</double>
            </canopy_fact_height>
            <canopy_fact_default>0.5</canopy_fact_default>
            <act_evap_method>ritchie</act_evap_method>
            <irrigation_will_runoff>false</irrigation_will_runoff>
            <irrigation_layer>1</irrigation_layer>
            <obsrunoff_name />
            <SummerCona>4.4</SummerCona>
            <SummerU>9</SummerU>
            <SummerDate>1-Nov</SummerDate>
            <WinterCona>4.4</WinterCona>
            <WinterU>9</WinterU>
            <WinterDate>1-Apr</WinterDate>
            <DiffusConst>88</DiffusConst>
            <DiffusSlope>35</DiffusSlope>
            <Salb>0.13</Salb>
            <slope>0</slope>
            <discharge_width>0</discharge_width>
            <catchment_area>0</catchment_area>
            <eo_source />
            <max_pond>0</max_pond>
            <CN2Bare>73</CN2Bare>
            <CNRed>20</CNRed>
            <CNCov>0.8</CNCov>
            <WaterTable>NaN</WaterTable>
            <Thickness>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
            </Thickness>
            <SWCON>
              <double>0.3</double>
              <double>0.6</double>
              <double>0.6</double>
              <double>0.6</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
              <double>0.95</double>
            </SWCON>
            <KLAT>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
            </KLAT>
          </SoilWater>
          <SoilNitrogen>
            <Name>SoilNitrogen</Name>
            <fom_type>
              <string>default</string>
              <string>manure</string>
              <string>mucuna</string>
              <string>lablab</string>
              <string>shemp</string>
              <string>stable</string>
            </fom_type>
            <fract_carb>
              <double>0.2</double>
              <double>0.3</double>
              <double>0.54</double>
              <double>0.57</double>
              <double>0.45</double>
              <double>0</double>
            </fract_carb>
            <fract_cell>
              <double>0.7</double>
              <double>0.3</double>
              <double>0.37</double>
              <double>0.37</double>
              <double>0.47</double>
              <double>0.1</double>
            </fract_cell>
            <fract_lign>
              <double>0.1</double>
              <double>0.4</double>
              <double>0.09</double>
              <double>0.06</double>
              <double>0.08</double>
              <double>0.9</double>
            </fract_lign>
            <wfpsN2N2O_x>
              <double>22</double>
              <double>88</double>
            </wfpsN2N2O_x>
            <wfpsN2N2O_y>
              <double>0.1</double>
              <double>1</double>
            </wfpsN2N2O_y>
          </SoilNitrogen>
          <SoilOrganicMatter>
            <Name>SoilOrganicMatter</Name>
            <RootCN>40</RootCN>
            <RootWt>1000</RootWt>
            <SoilCN>11</SoilCN>
            <EnrACoeff>7.4</EnrACoeff>
            <EnrBCoeff>0.2</EnrBCoeff>
            <Thickness>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
            </Thickness>
            <OC>
              <double>2.63</double>
              <double>1.25</double>
              <double>0.32</double>
              <double>0.21</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
              <double>0.2</double>
            </OC>
            <FBiom>
              <double>0.03</double>
              <double>0.02</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
              <double>0.01</double>
            </FBiom>
            <FInert>
              <double>0.4</double>
              <double>0.7</double>
              <double>0.8</double>
              <double>0.9</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
              <double>1</double>
            </FInert>
            <OCUnits>Total</OCUnits>
          </SoilOrganicMatter>
          <Analysis>
            <Name>Analysis</Name>
            <Thickness>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
            </Thickness>
            <PH>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
              <double>6</double>
            </PH>
            <PHUnits>Water</PHUnits>
            <BoronUnits>HotWater</BoronUnits>
          </Analysis>
          <Sample>
            <Name>InitialN</Name>
            <Thickness>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
              <double>200</double>
            </Thickness>
            <NO3>
              <double>115.55558228565495</double>
              <double>77.037054857103129</double>
              <double>57.777791142827347</double>
              <double>33.777785591191524</double>
              <double>33.777785591191524</double>
              <double>0</double>
              <double>0</double>
              <double>0</double>
              <double>0.33000007633499606</double>
              <double>0.33000007633499606</double>
              <double>0.33000007633499606</double>
              <double>0.33000007633499606</double>
              <double>0.33000007633499606</double>
              <double>0.33000007633499606</double>
              <double>0.32000007402181441</double>
            </NO3>
            <NH4>
              <double>0.26</double>
              <double>0.26</double>
              <double>0.26</double>
              <double>0.304</double>
              <double>0.304</double>
              <double>0.304</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.33</double>
              <double>0.32</double>
            </NH4>
            <SW>
              <double>0.253</double>
              <double>0.175</double>
              <double>0.15</double>
              <double>0.1</double>
              <double>0.13</double>
              <double>0.25</double>
              <double>0.29</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
              <double>0.25</double>
            </SW>
            <NO3Units>kgha</NO3Units>
            <NH4Units>kgha</NH4Units>
            <SWUnits>Volumetric</SWUnits>
            <OCUnits>Total</OCUnits>
            <PHUnits>Water</PHUnits>
          </Sample>
          <RecordNumber>0</RecordNumber>
          <SoilType>Sedementary</SoilType>
          <LocalName>Lincoln</LocalName>
          <Site />
          <NearestTown />
          <Region />
          <NaturalVegetation />
          <Latitude>0</Latitude>
          <Longitude>0</Longitude>
        </Soil>
        <Irrigation>
          <Name>Irrigation</Name>
        </Irrigation>
        <Fertiliser>
          <Name>Fertiliser</Name>
        </Fertiliser>
        <SurfaceOrganicMatter>
          <Name>SurfaceOrganicMatter</Name>
          <crit_residue_wt>2000</crit_residue_wt>
          <opt_temp>20</opt_temp>
          <cum_eos_max>20</cum_eos_max>
          <cnrf_coeff>0.277</cnrf_coeff>
          <cnrf_optcn>25</cnrf_optcn>
          <c_fract>0.4</c_fract>
          <leach_rain_tot>25</leach_rain_tot>
          <min_rain_to_leach>10</min_rain_to_leach>
          <crit_min_surfom_orgC>0.004</crit_min_surfom_orgC>
          <default_cpr>0</default_cpr>
          <default_standing_fraction>0</default_standing_fraction>
          <standing_extinct_coeff>0.5</standing_extinct_coeff>
          <fractionFaecesAdded>0.5</fractionFaecesAdded>
          <ResidueTypes />
          <TillageTypes>
            <Name>TillageTypes</Name>
            <TillageType />
          </TillageTypes>
          <PoolName>Barley</PoolName>
          <type>Barley</type>
          <mass>2026</mass>
          <standing_fraction>1</standing_fraction>
          <cnr>80</cnr>
        </SurfaceOrganicMatter>
        <MicroClimate>
          <Name>MicroClimate</Name>
          <air_pressure>1010</air_pressure>
          <soil_emissivity>0.96</soil_emissivity>
          <sun_angle>15</sun_angle>
          <soil_heat_flux_fraction>0.4</soil_heat_flux_fraction>
          <night_interception_fraction>0.5</night_interception_fraction>
          <windspeed_default>3</windspeed_default>
          <refheight>2</refheight>
          <albedo>0.29366217672824863</albedo>
          <emissivity>0.96</emissivity>
          <gsmax>0.01</gsmax>
          <r50>200</r50>
          <a_interception>0</a_interception>
          <b_interception>1</b_interception>
          <c_interception>0</c_interception>
          <d_interception>0</d_interception>
          <soil_albedo>0.3</soil_albedo>
        </MicroClimate>
        <Report>
          <Name>Report</Name>
          <Variables>
            <string>[Clock].Today</string>
            <string>[SurfaceOrganicMatter].surfaceom_cover</string>
            <string>[SurfaceOrganicMatter].surfaceom_wt</string>
            <string>[Soil].SoilWater.sw_dep</string>
            <string>[WeatherFile].Rain</string>
            <string>[Soil].SoilWater.dlayer</string>
            <string>[Soil].SoilWater.es</string>
            <string>[Irrigation].IrrigationApplied</string>
            <string>[Soil].SoilWater.sw</string>
            <string>[Soil].SoilWater.runoff</string>
            <string>[Soil].SoilWater.infiltration</string>
            <string>[Soil].SoilWater.drain</string>
            <string>[Soil].SoilWater.ll15</string>
            <string>[Soil].SoilWater.dul</string>
            <string>[Soil].SoilWater.ll15_dep</string>
            <string>[Soil].SoilWater.dul_dep</string>
            <string>[ExtraVariables].Script.SWDep60</string>
            <string>[ExtraVariables].Script.FomN</string>
            <string>[ExtraVariables].Script.HumN</string>
            <string>[ExtraVariables].Script.BiomN</string>
            <string>[ExtraVariables].Script.DltNMinRes</string>
            <string>[ExtraVariables].Script.DltNMinTot</string>
            <string>[ExtraVariables].Script.AccumPlantN</string>
            <string>[ExtraVariables].Script.AccumMineralisation</string>
            <string>[ExtraVariables].Script.AccumDenit</string>
            <string>[ExtraVariables].Script.AccumFert</string>
            <string>[ExtraVariables].Script.AccumLeach</string>
            <string>[ExtraVariables].Script.AccumDetach</string>
            <string>[ExtraVariables].Script.DeltaSoilOMN</string>
            <string>[ExtraVariables].Script.DeltaSurfaceOMN</string>
            <string>[ExtraVariables].Script.DeltaSoilMineralN</string>
            <string>[ExtraVariables].Script.AccumEO</string>
            <string>[ExtraVariables].Script.AccumEP</string>
            <string>[ExtraVariables].Script.AccumES</string>
            <string>[ExtraVariables].Script.AccumDrainage</string>
            <string>[ExtraVariables].Script.AccumRunoff</string>
            <string>[ExtraVariables].Script.AccumRainfall</string>
            <string>[ExtraVariables].Script.AccumIrrigation</string>
            <string>[ExtraVariables].Script.AccumOutflowLat</string>
            <string>[ExtraVariables].Script.SoilWaterDeficit</string>
            <string>[Soil].SoilNitrogen.dnit</string>
            <string>[ExtraVariables].Script.MineralN</string>
            <string>[Soil].SoilNitrogen.no3</string>
            <string>[Soil].SoilNitrogen.nh4</string>
            <string>[Soil].SoilNitrogen.urea</string>
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
            <string />
          </Variables>
          <Events>
            <string>[Clock].EndOfDay</string>
            <string />
            <string />
          </Events>
          <AutoCreateCSV>true</AutoCreateCSV>
        </Report>
        <Graph>
          <Name>Graph</Name>
          <Axis>
            <Type>Left</Type>
            <Title>Depth (mm)</Title>
            <Inverted>true</Inverted>
          </Axis>
          <Axis>
            <Type>Bottom</Type>
            <Inverted>false</Inverted>
          </Axis>
          <Series>
            <Title>SWC20cm</Title>
            <Type>Line</Type>
            <XAxis>Bottom</XAxis>
            <YAxis>Left</YAxis>
            <ColourArgb>-16776961</ColourArgb>
            <Marker>None</Marker>
            <Line>Solid</Line>
            <X>
              <SimulationName>Test</SimulationName>
              <TableName>Report</TableName>
              <FieldName>Clock.Today</FieldName>
            </X>
            <Y>
              <SimulationName>Test</SimulationName>
              <TableName>Report</TableName>
              <FieldName>SoilWater.sw_dep(1)</FieldName>
            </Y>
            <ShowRegressionLine>false</ShowRegressionLine>
          </Series>
          <Series>
            <Title>Obs SWC 20cm</Title>
            <Type>Scatter</Type>
            <XAxis>Bottom</XAxis>
            <YAxis>Left</YAxis>
            <ColourArgb>-65536</ColourArgb>
            <Marker>None</Marker>
            <Line>Solid</Line>
            <X>
              <SimulationName>Test</SimulationName>
              <TableName>Input</TableName>
              <FieldName>Clock.Today</FieldName>
            </X>
            <Y>
              <SimulationName>Test</SimulationName>
              <TableName>Input</TableName>
              <FieldName>sw_dep(1)</FieldName>
            </Y>
            <ShowRegressionLine>false</ShowRegressionLine>
          </Series>
          <LegendPosition>TopLeft</LegendPosition>
        </Graph>
        <Operations>
          <Name>Operations</Name>
          <Operation>
            <Date>2010-03-05T00:00:00</Date>
            <Action>Irrigation.Apply(26.6);</Action>
          </Operation>
          <Operation>
            <Date>2010-03-08T00:00:00</Date>
            <Action>Irrigation.Apply(30.4);</Action>
          </Operation>
          <Operation>
            <Date>2010-03-09T00:00:00</Date>
            <Action>Irrigation.Apply(100);</Action>
          </Operation>
          <Operation>
            <Date>2010-03-12T00:00:00</Date>
            <Action>Irrigation.Apply(10);</Action>
          </Operation>
        </Operations>
        <Manager>
          <Name>ResiduePrecipitationInterception</Name>
          <Script>
            <Name>Script</Name>
          </Script>
          <Code><![CDATA[
        using System;
        using Models.Core;
		using System.Collections.Generic;
        using System.Text;
        using Models.Soils;
        using Models;
        using System.Xml.Serialization;
        namespace Models
        {
[Serializable] 
public class Script : Model
{      
[Link] Clock Clock;
[Link] Soils.Soil Soil;
[Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;        
[Link] WeatherFile Met;   
[Link] Irrigation Irrig;  
               
[XmlIgnore] public bool InitialDay { get; set; }

[XmlIgnore] public double Precip { get; set; }
[XmlIgnore] public double Maximum_interception { get; set; }
[XmlIgnore] public double Residue_water { get; set; }
[XmlIgnore] public double Interception_today { get; set; }
[XmlIgnore] public double Evaporated_interception { get; set; }
[XmlIgnore] public double SWC60 { get; set; }

[EventSubscribe("Initialised")]
private void OnInitialised(object sender, EventArgs e)
{
Precip = 0;
Maximum_interception = 0;
Residue_water = 0;
Interception_today = 0;
Evaporated_interception = 0;
SWC60 = 0;
}	   

[EventSubscribe("EndOfDay")]
private void OnEndOfDay(object sender, EventArgs e)
{
//calculate the amount of water that is going to evaporate from the residue water pool

if (Residue_water > Soil.SoilWater.eo)
   Evaporated_interception = Soil.SoilWater.eo;
else
   Evaporated_interception = Residue_water;

SWC60 = Soil.SoilWater.sw_dep[0] + Soil.SoilWater.sw_dep[1] + Soil.SoilWater.sw_dep[2];

// remove evaporation from residue water pool               

Residue_water = Residue_water - Evaporated_interception;
}

[EventSubscribe("StartOfDay")]
private void OnStartOfDay(object sender, EventArgs e)
{
//Set interception variables
Precip = Met.Rain + Irrig.IrrigationApplied; 
Maximum_interception = 0.0002 * SOM.surfaceom_wt;
          
//Determine the amount of water intercepted by residue today
if ((Precip * SOM.surfaceom_cover) >= (Maximum_interception - Residue_water))
   Interception_today = (Maximum_interception - Residue_water);
else
   Interception_today = (Precip * SOM.surfaceom_cover) ;

// Send message to soil module to take interception out of water balance
    
Soil.SoilWater.residueinterception = Interception_today;
            
//Add intercepted water into residual water pool

 Residue_water = Residue_water + Interception_today;



            

}
}
}
	   ]]></Code>
        </Manager>
        <Manager>
          <Name>ExtraVariables</Name>
          <Script>
            <Name>Script</Name>
          </Script>
          <Code><![CDATA[using System;
using Models.Core;
using System.Collections.Generic;
using System.Text;
using Models.Soils;
using Models;
using System.Xml.Serialization;
namespace Models
{
	[Serializable] 
	public class Script : Model
	{      
		[Link] Clock Clock;
		[Link] Soils.Soil Soil;
		[Link] Models.SurfaceOM.SurfaceOrganicMatter SOM;
		[Link] WeatherFile Met;   
		[Link] Fertiliser Fert;
		[Link] Irrigation Irrig;  
					
		[XmlIgnore] public bool InitialDay { get; set; }
		
		[XmlIgnore] public double AccumPlantN { get; set; }
		[XmlIgnore] public double AccumMineralisation { get; set; }
		[XmlIgnore] public double AccumDenit { get; set; }
		[XmlIgnore] public double AccumFert { get; set; }
		[XmlIgnore] public double AccumLeach { get; set; }
		[XmlIgnore] public double AccumDetach { get; set; }
		[XmlIgnore] public double DeltaSoilOMN { get; set; }
		[XmlIgnore] public double DeltaSurfaceOMN { get; set; }
		[XmlIgnore] public double DeltaSoilMineralN { get; set; }
		[XmlIgnore] public double SoilNitrogenContent { get; set; }
		
		[XmlIgnore] public double AccumEO { get; set; }
		[XmlIgnore] public double AccumEP { get; set; }
		[XmlIgnore] public double AccumES { get; set; }
		[XmlIgnore] public double AccumDrainage { get; set; }
		[XmlIgnore] public double AccumRunoff { get; set; }
		[XmlIgnore] public double AccumOutflowLat { get; set; }
		[XmlIgnore] public double AccumIrrigation { get; set; }
		[XmlIgnore] public double AccumRainfall { get; set; }
		[XmlIgnore] public double SoilWaterDeficit { get; set; }
		
		[XmlIgnore] public double AccumTtemerg { get; set; }
		
		[XmlIgnore] public double  InitialSoilOMN { get; set; }
		[XmlIgnore] public double  InitialSurfaceOMN { get; set; }
		[XmlIgnore] public double  InitialMineralN { get; set; }
		
		[XmlIgnore] public double SWC { get; set; }
		[XmlIgnore] public double DUL { get; set; }
		[XmlIgnore] public double OutFlowLat { get; set; }
		[XmlIgnore] public double SWDep60 { get; set; }
		[XmlIgnore] public double Flux1 { get; set; }
		[XmlIgnore] public double Flux3 { get; set; }
		
		[XmlIgnore] public double FomN { get; set; }
		[XmlIgnore] public double BiomN { get; set; }
		[XmlIgnore] public double HumN { get; set; }
		[XmlIgnore] public double OrganicN { get; set; }
		[XmlIgnore] public double NO3N { get; set; }
		[XmlIgnore] public double NH4N { get; set; }
		[XmlIgnore] public double UreaN { get; set; }
		[XmlIgnore] public double MineralN { get; set; }
		[XmlIgnore] public double DltNMinRes { get; set; }
		[XmlIgnore] public double DltNMinTot { get; set; }
		
        public override void OnCommencing()
        {
			InitialDay = true;
		}	   
		
		[EventSubscribe("StartOfDay")]
		private void OnStartOfDay(object sender, EventArgs e)
		{
			//!!!!!! Nitrogen balance components !!!!!!
			//!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!
           	FomN = Utility.Math.Sum(Soil.SoilNitrogen.fom_n);
			HumN = Utility.Math.Sum(Soil.SoilNitrogen.hum_n);
		    BiomN = Utility.Math.Sum(Soil.SoilNitrogen.biom_n);
			OrganicN = FomN + HumN + BiomN;
			NO3N = Utility.Math.Sum(Soil.SoilNitrogen.no3);
			NH4N = Utility.Math.Sum(Soil.SoilNitrogen.nh4);
			UreaN = Utility.Math.Sum(Soil.SoilNitrogen.urea);
			MineralN = NO3N + NH4N + UreaN; 
			DltNMinRes = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min_res);
			DltNMinTot = Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min);
            int layers = Soil.SoilWater.dlayer.Length;
			if (InitialDay == true)
			{
				InitialSurfaceOMN = SOM.surfaceom_n;
				InitialSoilOMN = OrganicN;
				InitialMineralN = MineralN;
				InitialDay = false;
			}
			AccumFert += Fert.NitrogenApplied;
			DeltaSurfaceOMN = SOM.surfaceom_n - InitialSurfaceOMN;
			AccumLeach = AccumLeach - Soil.SoilWater.LeachNH4 - Soil.SoilWater.LeachNO3 - Soil.SoilWater.LeachUrea; //Fails
            AccumMineralisation += Utility.Math.Sum(Soil.SoilNitrogen.dlt_n_min);
            AccumDenit -= Utility.Math.Sum(Soil.SoilNitrogen.dnit);
			DeltaSoilOMN = OrganicN - InitialSoilOMN;
			DeltaSoilMineralN = MineralN - InitialMineralN;
			SoilNitrogenContent = MineralN;
			
			//!!!!!! Water balance components !!!!!!
			//!!!!!!^^^^^^^^^^^^^^^^^^^^^^^^^^!!!!!!

			AccumIrrigation += Irrig.IrrigationApplied; 
			AccumRainfall += Met.Rain;
			SWDep60 = 0;
			SWC = Utility.Math.Sum(Soil.SoilWater.sw_dep);
			DUL = Utility.Math.Sum(Soil.SoilWater.dul_dep);
			SoilWaterDeficit =  (SWC - DUL);
			double OutFlowLat = Utility.Math.Sum(Soil.SoilWater.outflow_lat);
			AccumOutflowLat -= OutFlowLat;
			SWDep60 = Soil.SoilWater.sw_dep[0] + Soil.SoilWater.sw_dep[1] + Soil.SoilWater.sw_dep[2];
		}
		
		[EventSubscribe("EndOfDay")]
		private void OnEndOfDay(object sender, EventArgs e)
		{
			int layers = Soil.SoilWater.dlayer.Length;			
			AccumEO -= Soil.SoilWater.eo;
			AccumES -= Soil.SoilWater.es; 
			AccumDrainage -= Soil.SoilWater.drain;
			AccumRunoff -= Soil.SoilWater.runoff;
			Flux1 = Soil.SoilWater.flux2[0];
			Flux3 = Soil.SoilWater.flux2[2];
		}
	}
}
	   ]]></Code>
        </Manager>
        <Area>0</Area>
      </Zone>
      <Area>0</Area>
    </Simulation>
    <Graph>
      <Name>Residue mass</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Residue biomass (kg/ha)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Residue</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>surfaceom_wt</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>FilledCircle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>surfaceom_wt</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>TopLeft</LegendPosition>
    </Graph>
    <Graph>
      <Name>Residue cover</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Residue biomass (kg/ha)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Residue</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>SurfaceOrganicMatter.surfaceom_cover</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>FilledCircle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedResidues</TableName>
          <FieldName>surfaceom_cover</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>BottomRight</LegendPosition>
    </Graph>
    <Graph>
      <Name>sw_dep 0 - 20 cm</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Residue biomass (kg/ha)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Predicted</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>-65536</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Soil.SoilWater.sw_dep(1)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Title>Observed</Title>
        <Type>Scatter</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>Circle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>SoilWater.sw_dep(1)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>TopLeft</LegendPosition>
    </Graph>
    <Graph>
      <Name>sw_dep 20 - 40 cm</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Soil water (mm)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Predicted</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>-65536</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Soil.SoilWater.sw_dep(2)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Title>Observed</Title>
        <Type>Scatter</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>Circle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>SoilWater.sw_dep(2)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>TopLeft</LegendPosition>
    </Graph>
    <Graph>
      <Name>sw_dep 40 - 60 cm</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Soil water (mm)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Predicted</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>-65536</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Soil.SoilWater.sw_dep(3)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Title>Observed</Title>
        <Type>Scatter</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>Circle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>SoilWater.sw_dep(3)</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>TopLeft</LegendPosition>
    </Graph>
    <Graph>
      <Name>sw_dep 0 - 60 cm</Name>
      <Axis>
        <Type>Bottom</Type>
        <Inverted>false</Inverted>
      </Axis>
      <Axis>
        <Type>Left</Type>
        <Title>Soil water (mm)</Title>
        <Inverted>false</Inverted>
      </Axis>
      <Series>
        <Title>Predicted</Title>
        <Type>Line</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>-65536</ColourArgb>
        <Marker>None</Marker>
        <Line>Solid</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>Report</TableName>
          <FieldName>ExtraVariables.Script.SWDep60</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <Series>
        <Title>Observed</Title>
        <Type>Scatter</Type>
        <XAxis>Bottom</XAxis>
        <YAxis>Left</YAxis>
        <ColourArgb>0</ColourArgb>
        <Marker>Circle</Marker>
        <Line>None</Line>
        <X>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>Clock.Today</FieldName>
        </X>
        <Y>
          <SimulationName>*</SimulationName>
          <TableName>ObservedSoilWater</TableName>
          <FieldName>ExtraVariables.SWDep60</FieldName>
        </Y>
        <ShowRegressionLine>false</ShowRegressionLine>
      </Series>
      <LegendPosition>TopLeft</LegendPosition>
    </Graph>
  </Experiment>
  <Area>0</Area>
  <ExplorerWidth>300</ExplorerWidth>
</Simulations>